<!DOCTYPE html>
<html>
<body>
    <p><a href="../index.html">Back</a></p>

    <h1>Scritable Object and Inventory System</h1>

    <a href="https://github.com/chenqiangpan/Unity_Inventory">Github Repo</a>

    <div>

        <h3>2022/2/16 Progress 1</h3>

        <ol>
            <br>create scriptable objects and inventory system
            <br>add objects via unity editor
            <br>the core idea is to have item inherit from scriptable object
            <br>and have an Enum to hold item type
            <br>then set up the objects' properties in the edito
            <br>
            <br>
            <br>
            <br>for inventory itself, also create as scriptable object
            <br>so later on could create different inventory for player, or shop, or tutorial
            <br> the inventory class is holding inventory slots
            <br> and then , the slots are holding items and their quantity
            <br>
            <br>    
            <br> The display part is using a dictionary to hold
            <br> the itemslot and it's item 
            <br> it also us RectTransform to set up the positon of each item slot

          </ol>

        <video width="640" height="480" controls>
            <source src="../videos/Unity/Unity_Inventory_1.mp4" type="video/mp4">
          </video>
    </div>


    <div>

      <h3>2022/2/17 Progress 2</h3>

      <ol>
          <br>add save and load system
          <br> using JsonUtility.ToJson(this,true) to save the inventory into Json
          <br> then make it Binary and Serialize it, and then save to file:
          <br>
          <blockquote>
            <br>BinaryFormatter bf = new BinaryFormatter();
            <br>FileStream file = File.Create(string.Concat(Application.persistentDataPath, savePath));
            <br>bf.Serialize(file, saveData);
          </blockquote> 

          <br> then, when load it, we do the reverse thing to Deserialize it:
          <blockquote>
            <br> BinaryFormatter bf = new BinaryFormatter();

            <br>FileStream file = File.Open(string.Concat(Application.persistentDataPath, savePath), FileMode.Open);

            <br> JsonUtility.FromJsonOverwrite(bf.Deserialize(file).ToString(), this);
          </blockquote> 

        </ol>

      <video width="640" height="480" controls>
          <source src="../videos/Unity/Unity_Inventory_2.mp4" type="video/mp4">
        </video>
  </div>

</body>
</html>

